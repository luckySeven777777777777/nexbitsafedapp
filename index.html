<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connect Wallet</title>

  <style>
    #connectButton {
      padding: 12px 24px;
      background-color: #f6851b;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    #walletStatus {
      margin-top: 12px;
      font-size: 14px;
    }
    #walletSelector {
      display: none;
      margin-top: 10px;
    }
    .wallet-option {
      display: flex;
      align-items: center;
      padding: 10px;
      background-color: #f0f0f0;
      margin-bottom: 10px;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s;
    }
    .wallet-option:hover {
      background-color: #e6e6e6;
    }
    .wallet-option img {
      margin-right: 12px;
      width: 30px;
      height: 30px;
    }
  </style>
</head>

<body>

  <button id="connectButton">Connect Wallet</button>
  <div id="walletSelector">
    <div class="wallet-option" id="metamaskOption">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3ymr3UNKopfI0NmUY95Dr-0589vG-91KuAA&s" alt="MetaMask Logo" />
      MetaMask
    </div>
    <div class="wallet-option" id="walletconnectOption">
      <img src="https://99bitcoins.com/wp-content/uploads/2025/03/crypto.com-wallet-logo.jpg" alt="Crypto.com DeFi Wallet Logo" />
      Crypto.com DeFi Wallet
    </div>
    <div class="wallet-option" id="trustWalletOption">
      <img src="https://logowik.com/content/uploads/images/trust-wallet-shield4830.logowik.com.webp" alt="Trust Wallet Logo" />
      Trust Wallet
    </div>
    <div class="wallet-option" id="okxWalletOption">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8aoojZr1ORW_wq3W0bxM4aQEY9kIotJEcKg&s" alt="OKX Wallet Logo" />
      OKX Wallet
    </div>
    <div class="wallet-option" id="safepalWalletOption">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR36IDA58MpqEx-G_pB8f6zmVVoAjI3pkzldA&s" alt="SafePal Wallet Logo" />
      SafePal Wallet
    </div>
  </div>
  <div id="walletStatus">Not connected</div>

  <!-- 引入 WalletConnect 库 -->
  <script src="https://unpkg.com/@walletconnect/ethereum-provider@2.11.0/dist/index.umd.js"></script>


  <script>
    const btn = document.getElementById("connectButton");
    const info = document.getElementById("walletStatus");
    const walletSelector = document.getElementById("walletSelector");

    // 显示钱包选择界面
    const showWalletSelector = () => {
      walletSelector.style.display = "block";
    };

    // 连接 MetaMask 钱包
    const connectMetaMask = async () => {
      try {
        const accounts = await window.ethereum.request({
          method: "eth_requestAccounts"
        });
        info.innerText = "✅ Connected: " + accounts[0];
      } catch (err) {
        info.innerText = "❌ User rejected connection";
      }
    };

    // 连接 WalletConnect 钱包
    let wcProvider;

  const connectWalletConnect = async () => {
    try {
      wcProvider = await window.EthereumProvider.init({
        projectId: "【这里填你的 WalletConnect Project ID】",
        chains: [1], // Ethereum Mainnet
        optionalChains: [56, 137],
        showQrModal: true,
        metadata: {
          name: "NEXBIT",
          description: "NEXBIT DApp",
          url: window.location.origin,
          icons: ["https://yourdomain.com/logo.png"]
        }
      });

      await wcProvider.connect();

      const accounts = await wcProvider.request({
        method: "eth_accounts"
      });

      info.innerText = "✅ Connected: " + accounts[0];
    } catch (err) {
      console.error(err);
      info.innerText = "❌ WalletConnect connection failed";
    }
  };

    // 按钮点击事件，显示钱包选择
    btn.onclick = () => {
      showWalletSelector();
    };

    // 点击 MetaMask 选项
    document.getElementById("metamaskOption").onclick = () => {
      connectMetaMask();
    };

    // 点击 Crypto.com DeFi Wallet 选项
    document.getElementById("walletconnectOption").onclick = () => {
      connectWalletConnect();
    };

    // 点击 Trust Wallet 选项
    document.getElementById("trustWalletOption").onclick = () => {
      connectWalletConnect();
    };

    // 点击 OKX Wallet 选项
    document.getElementById("okxWalletOption").onclick = () => {
      connectWalletConnect();
    };

    // 点击 SafePal Wallet 选项
    document.getElementById("safepalWalletOption").onclick = () => {
      connectWalletConnect();
    };
  </script>

</body>
</html>
